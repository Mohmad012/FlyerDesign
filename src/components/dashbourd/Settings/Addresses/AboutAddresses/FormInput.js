import {ErrorMessage, Field} from 'formik'

const FormInput = ({field, form, ...props}) => {
  const handleClearInput = () => {
    form.setFieldValue(field.name, '')
  }

  return (
    <div className='relative w-full'>
      <Field
        {...field}
        {...props}
        className='w-full py-2 px-2 rounded border-gray-300 focus:outline-none ring-1 ring-gray-400'
      />
      {field.value && (
        <button
          type='button'
          className='absolute top-2 right-3 text-gray-500'
          onClick={handleClearInput}>
          <svg
            width={20}
            height={20}
            viewBox='0 0 40 40'
            fill='none'
            xmlns='http://www.w3.org/2000/svg'>
            <path
              d='M25.8844 15.8844L21.7672 20L25.8844 24.1156C26.0005 24.2318 26.0926 24.3696 26.1555 24.5214C26.2184 24.6731 26.2507 24.8358 26.2507 25C26.2507 25.1642 26.2184 25.3269 26.1555 25.4786C26.0926 25.6304 26.0005 25.7682 25.8844 25.8844C25.7682 26.0005 25.6304 26.0926 25.4786 26.1555C25.3269 26.2183 25.1643 26.2507 25 26.2507C24.8358 26.2507 24.6731 26.2183 24.5214 26.1555C24.3696 26.0926 24.2318 26.0005 24.1156 25.8844L20 21.7672L15.8844 25.8844C15.7682 26.0005 15.6304 26.0926 15.4786 26.1555C15.3269 26.2183 15.1643 26.2507 15 26.2507C14.8358 26.2507 14.6731 26.2183 14.5214 26.1555C14.3696 26.0926 14.2318 26.0005 14.1156 25.8844C13.9995 25.7682 13.9074 25.6304 13.8445 25.4786C13.7817 25.3269 13.7493 25.1642 13.7493 25C13.7493 24.8358 13.7817 24.6731 13.8445 24.5214C13.9074 24.3696 13.9995 24.2318 14.1156 24.1156L18.2328 20L14.1156 15.8844C13.8811 15.6498 13.7493 15.3317 13.7493 15C13.7493 14.6683 13.8811 14.3502 14.1156 14.1156C14.3502 13.8811 14.6683 13.7493 15 13.7493C15.3317 13.7493 15.6498 13.8811 15.8844 14.1156L20 18.2328L24.1156 14.1156C24.2318 13.9995 24.3696 13.9074 24.5214 13.8445C24.6731 13.7817 24.8358 13.7493 25 13.7493C25.1643 13.7493 25.3269 13.7817 25.4786 13.8445C25.6304 13.9074 25.7682 13.9995 25.8844 14.1156C26.0005 14.2318 26.0926 14.3696 26.1555 14.5214C26.2184 14.6731 26.2507 14.8358 26.2507 15C26.2507 15.1642 26.2184 15.3269 26.1555 15.4786C26.0926 15.6304 26.0005 15.7682 25.8844 15.8844ZM36.25 20C36.25 23.2139 35.297 26.3557 33.5114 29.028C31.7258 31.7003 29.1879 33.7831 26.2186 35.013C23.2493 36.243 19.982 36.5648 16.8298 35.9378C13.6776 35.3107 10.7821 33.7631 8.50952 31.4905C6.23692 29.2179 4.68926 26.3224 4.06225 23.1702C3.43524 20.018 3.75704 16.7507 4.98696 13.7814C6.21689 10.8121 8.29969 8.27419 10.972 6.48862C13.6443 4.70305 16.7861 3.75 20 3.75C24.3084 3.75455 28.439 5.46806 31.4855 8.51454C34.5319 11.561 36.2455 15.6916 36.25 20ZM33.75 20C33.75 17.2805 32.9436 14.6221 31.4327 12.3609C29.9218 10.0997 27.7744 8.33736 25.2619 7.29666C22.7494 6.25595 19.9848 5.98366 17.3175 6.5142C14.6503 7.04475 12.2003 8.35431 10.2773 10.2773C8.35432 12.2003 7.04476 14.6503 6.51421 17.3175C5.98366 19.9847 6.25596 22.7494 7.29666 25.2619C8.33737 27.7744 10.0997 29.9218 12.3609 31.4327C14.6221 32.9436 17.2805 33.75 20 33.75C23.6455 33.7459 27.1404 32.2959 29.7182 29.7182C32.2959 27.1404 33.7459 23.6455 33.75 20Z'
              fill='#666666'
            />
          </svg>
        </button>
      )}
      <ErrorMessage
        name={field.name}
        component='div'
        className='mt-2 text-red-500'
      />
    </div>
  )
}

export default FormInput
